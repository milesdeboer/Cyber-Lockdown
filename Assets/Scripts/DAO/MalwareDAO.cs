using System.Collections;
using System.Collections.Generic;
using System.IO;
using System.Linq;
using UnityEngine;

[System.Serializable]
public class MalwareDAO
{
    public MalwareWrapper[] malware;

    public void Save(MalwareController manager) {
        malware = manager.GetMalware().Select(m => m.Wrap()).ToArray();

        string json = JsonUtility.ToJson(this, GameManager.READABLE_SAVE);
        File.WriteAllText(Application.persistentDataPath + "/malwaresave.json", json);

        Debug.Log("json: " + json);
        Debug.Log("Save Location: " + Application.persistentDataPath + "/malwaresave.json");
    }
}
